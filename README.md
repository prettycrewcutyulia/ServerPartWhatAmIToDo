# WhatAmIToDo - Серверная часть

## Описание проекта

WhatAmIToDo - это веб-приложение для управления целями и задачами с интеграцией искусственного интеллекта. Серверная часть предоставляет RESTful API для работы с задачами, целями и пользователями. Проект использует Yandex GPT для генерации планов достижения целей на основе пользовательского запроса.

## Технологии

- ASP.NET Core 9.0
- Entity Framework Core
- PostgreSQL
- JWT-аутентификация
- Swagger для документации API
- Интеграция с Yandex GPT

## Основные функции

- Аутентификация и авторизация пользователей (JWT)
- Создание, чтение, обновление и удаление целей
- Создание шагов (подзадач) для достижения цели
- Установка сроков для целей и шагов
- Категоризация целей с помощью фильтров
- Генерация планов достижения целей с помощью искусственного интеллекта (Yandex GPT)
- Отправка напоминаний о сроках

## Структура проекта

- **Controllers/** - Контроллеры API
  - AccountController - управление аккаунтом пользователя
  - AuthController - авторизация и аутентификация
  - FiltersController - работа с категориями/фильтрами
  - GoalsController - CRUD операции для целей, интеграция с ИИ
  - ReminderController - отправка и управление напоминаниями

- **Models/** - Модели данных
  - Goal - модель цели
  - Step - модель шага для достижения цели
  - User - модель пользователя
  - Filter - модель категории/фильтра
  - DataBase/ - сущности базы данных
  
- **Services/** - Бизнес-логика приложения
- **Repositories/** - Доступ к данным

## API Endpoints

### Цели
- **GET /api/goals?userId=1** - Получить все цели пользователя
- **POST /api/goals/create** - Создать новую цель
- **POST /api/goals/get-ai** - Получить план достижения цели с помощью ИИ
- **PUT /api/goals/update/{id}** - Обновить существующую цель
- **DELETE /api/goals/delete/{id}** - Удалить цель

### Аутентификация
- **POST /api/auth/login** - Вход в систему
- **POST /api/auth/register** - Регистрация нового пользователя

### Аккаунт
- **PUT /api/account/reset-password** - Сброс пароля

### Фильтры (категории)
- **GET /api/filters** - Получить все фильтры/категории
- **POST /api/filters/create** - Создать новый фильтр

### Напоминания
- **POST /api/reminder/send** - Отправить напоминание

## Запуск проекта

### Предварительные требования
- .NET 9.0 SDK
- PostgreSQL
- Учетная запись в Yandex Cloud для доступа к Yandex GPT

### Настройка окружения
1. Клонировать репозиторий
2. Создать файл `.env` в корне проекта со следующими переменными:
   ```
   OAUTH_TOKEN=ваш_oauth_токен_яндекса
   MODELURI=yandexgpt://<model_id>
   SECRETKEY=ваш_секретный_ключ_для_jwt
   ValidIssuer=ваш_issuer
   ValidAudience=ваша_audience
   ```
3. Настроить строку подключения к базе данных в `appsettings.json`

### Запуск
1. Восстановить пакеты NuGet: `dotnet restore`
2. Запустить проект: `dotnet run`
3. API будет доступно по адресу: `https://localhost:5001` или `http://localhost:5000`
4. Swagger UI доступен по корневому URL

## Документация API
Полная документация API доступна через Swagger UI после запуска приложения. 
